:root{
  --green: #2b8a3e;
  --accent: #ff6b6b;
  --card: #f7fff7;
  --glass: rgba(255,255,255,0.86);
}

/* Background full screen */
html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Arial,sans-serif}
#bg{
  position:fixed;inset:0;background-image:url('https://i.postimg.cc/qz31RTGg/background.avif');
  background-size:cover;background-position:center;filter:contrast(0.95) brightness(0.85);z-index:-1;
}

/* layout */
.topbar{display:flex;justify-content:space-between;padding:10px 18px;color:#fff}
.topbar label{margin-right:8px}
#stage{max-width:1100px;margin:18px auto;padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.95));border-radius:12px;box-shadow:0 8px 36px rgba(0,0,0,0.18)}
.scene{padding:10px}
.box{background:var(--glass);padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06)}
.controls{text-align:center;margin-top:12px}

/* story */
.characters{display:flex;justify-content:space-between;align-items:flex-end}
.char{width:180px;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,0.18)}
#story-box{margin:18px auto;padding:12px;max-width:780px;font-weight:700;color:var(--green);background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(240,255,240,0.8));border-radius:10px;}

/* learn layout */
.learn-grid{display:flex;gap:18px;flex-wrap:wrap;align-items:flex-start;justify-content:center}
.wheel-card{position:relative;width:320px;height:320px;border-radius:12px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 26px rgba(0,0,0,0.12)}
.wheel-card img{width:300px;height:auto;display:block}
#wheel-card svg, #overlay{position:absolute;pointer-events:none}
.controls-panel{max-width:420px}
/* svg labels style */
.svglbl{font:12px sans-serif;fill:#0b3d02;font-weight:700}

/* slider + area */
.slider-label{display:block;margin:12px 0;font-weight:700}
#radius-slider{width:100%}
.area-box{margin-top:10px}
.area-display{background:#fff;padding:10px;border-radius:8px;border:1px dashed rgba(0,0,0,0.06)}

/* quiz */
.options{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px}
.opt{padding:10px;border-radius:10px;background:#fff;border:2px solid #e6f2e6;cursor:pointer;font-weight:700}
.opt:hover{transform:translateY(-4px);transition:all 150ms ease}

/* feedback */
.feedback{margin-top:12px;font-weight:700;color:#c33}

/* score */
.stars-large{font-size:48px;color:gold;margin:10px 0}
.score-msg{font-weight:700;color:var(--green)}

/* buttons */
.btn{background:var(--green);color:#fff;border:none;padding:10px 18px;border-radius:10px;cursor:pointer;font-weight:700}
.btn:hover{filter:brightness(1.05)}

/* small animations */
.hidden{display:none}
.fade-in{animation:fadeIn 600ms ease-out}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none}}

/* shake for wrong */
.shake{animation:shake 600ms}
@keyframes shake{10%{transform:translateX(-8px)}30%{transform:translateX(8px)}50%{transform:translateX(-6px)}70%{transform:translateX(6px)}90%{transform:translateX(0)}}

/* confetti pieces */
.confetti{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:hidden;z-index:99}
.confetti-piece{position:absolute;width:10px;height:14px;border-radius:2px;opacity:0.95;transform:rotate(45deg);animation:confFall 1200ms linear forwards}
@keyframes confFall{to{transform:translateY(110vh) rotate(360deg);opacity:0}}